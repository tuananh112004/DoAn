{"ast":null,"code":"var _jsxFileName = \"D:\\\\sua\\\\manage-product\\\\client\\\\src\\\\components\\\\shared\\\\AIChatbot.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport api from '../../configs/Apis';\nimport './AIChatbot.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AIChatbot = ({\n  isOpen,\n  onClose,\n  userId = null\n}) => {\n  _s();\n  const [sessionId, setSessionId] = useState(null);\n  const [messages, setMessages] = useState([]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [isTyping, setIsTyping] = useState(false);\n  const messagesEndRef = useRef(null);\n  const inputRef = useRef(null);\n\n  // Auto scroll to bottom\n  const scrollToBottom = () => {\n    var _messagesEndRef$curre;\n    (_messagesEndRef$curre = messagesEndRef.current) === null || _messagesEndRef$curre === void 0 ? void 0 : _messagesEndRef$curre.scrollIntoView({\n      behavior: \"smooth\"\n    });\n  };\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  // Kh·ªüi t·∫°o chat session khi m·ªü chatbot\n  useEffect(() => {\n    if (isOpen && !sessionId) {\n      startNewChat();\n    }\n  }, [isOpen]);\n\n  // Focus input khi m·ªü chatbot\n  useEffect(() => {\n    if (isOpen && inputRef.current) {\n      setTimeout(() => inputRef.current.focus(), 100);\n    }\n  }, [isOpen]);\n  const startNewChat = async () => {\n    try {\n      setIsLoading(true);\n      const response = await api.post(`/chatbot/start`, {\n        userId: userId\n      });\n      if (response.data.success) {\n        setSessionId(response.data.sessionId);\n        setMessages([response.data.initialMessage]);\n      }\n    } catch (error) {\n      // Detailed logging to help debug network / server errors\n      if (error.response) {\n        // Server responded with a status outside 2xx\n        console.error('Error starting chat - response:', {\n          status: error.response.status,\n          data: error.response.data\n        });\n      } else if (error.request) {\n        // Request was made but no response\n        console.error('Error starting chat - no response received:', error.request);\n      } else {\n        // Something else happened\n        console.error('Error starting chat - setup error:', error.message);\n      }\n      setMessages([{\n        role: 'system',\n        content: 'Xin l·ªói, c√≥ l·ªói x·∫£y ra khi kh·ªüi t·∫°o chat. Vui l√≤ng th·ª≠ l·∫°i.',\n        timestamp: new Date()\n      }]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const sendMessage = async e => {\n    e.preventDefault();\n    if (!inputMessage.trim() || !sessionId || isLoading) return;\n    const userMessage = {\n      role: 'user',\n      content: inputMessage.trim(),\n      timestamp: new Date()\n    };\n\n    // Th√™m tin nh·∫Øn c·ªßa user v√†o chat\n    setMessages(prev => [...prev, userMessage]);\n    setInputMessage('');\n    setIsTyping(true);\n    try {\n      const response = await api.post(`/chatbot/message`, {\n        sessionId: sessionId,\n        message: userMessage.content,\n        userId: userId\n      });\n      if (response.data.success) {\n        const aiMessage = {\n          role: 'assistant',\n          content: response.data.response,\n          timestamp: new Date(),\n          metadata: {\n            intent: response.data.intent,\n            confidence: response.data.confidence,\n            entities: response.data.entities\n          }\n        };\n        setMessages(prev => [...prev, aiMessage]);\n      }\n    } catch (error) {\n      console.error('Error sending message:', error);\n      const errorMessage = {\n        role: 'assistant',\n        content: 'Xin l·ªói, c√≥ l·ªói x·∫£y ra. Vui l√≤ng th·ª≠ l·∫°i.',\n        timestamp: new Date()\n      };\n      setMessages(prev => [...prev, errorMessage]);\n    } finally {\n      setIsTyping(false);\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      sendMessage(e);\n    }\n  };\n  const formatMessage = message => {\n    // X·ª≠ l√Ω xu·ªëng d√≤ng trong tin nh·∫Øn\n    return message.content.split('\\n').map((line, index) => /*#__PURE__*/_jsxDEV(\"span\", {\n      children: [line, index < message.content.split('\\n').length - 1 && /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 68\n      }, this)]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }, this));\n  };\n  const getMessageTime = timestamp => {\n    return new Date(timestamp).toLocaleTimeString('vi-VN', {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  const getIntentIcon = intent => {\n    const intentIcons = {\n      'product_search': 'üîç',\n      'category_info': 'üìÇ',\n      'price_inquiry': 'üí∞',\n      'stock_check': 'üì¶',\n      'product_comparison': '‚öñÔ∏è',\n      'recommendation': 'üí°',\n      'greeting': 'üëã',\n      'farewell': 'üëã',\n      'general_question': '‚ùì'\n    };\n    return intentIcons[intent] || 'üí¨';\n  };\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ai-chatbot-overlay\",\n    onClick: onClose,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ai-chatbot-container\",\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ai-chatbot-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ai-chatbot-title\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"ai-icon\",\n            children: \"\\uD83E\\uDD16\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"AI Tr\\u1EE3 l\\xFD\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"ai-chatbot-close\",\n          onClick: onClose,\n          children: \"\\u2715\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ai-chatbot-messages\",\n        children: [messages.map((message, index) => {\n          var _message$metadata;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `ai-message ${message.role === 'user' ? 'user' : 'assistant'}`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ai-message-content\",\n              children: [message.role === 'assistant' && ((_message$metadata = message.metadata) === null || _message$metadata === void 0 ? void 0 : _message$metadata.intent) && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ai-message-intent\",\n                children: [getIntentIcon(message.metadata.intent), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"intent-text\",\n                  children: message.metadata.intent.replace('_', ' ')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 188,\n                  columnNumber: 41\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 186,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ai-message-text\",\n                children: formatMessage(message)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ai-message-time\",\n                children: getMessageTime(message.timestamp)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 184,\n              columnNumber: 29\n            }, this)\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 25\n          }, this);\n        }), isTyping && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ai-message assistant\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ai-message-content\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"ai-typing\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          ref: messagesEndRef\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"ai-chatbot-input-form\",\n        onSubmit: sendMessage,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ai-input-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            ref: inputRef,\n            type: \"text\",\n            value: inputMessage,\n            onChange: e => setInputMessage(e.target.value),\n            onKeyPress: handleKeyPress,\n            placeholder: \"Nh\\u1EADp c\\xE2u h\\u1ECFi c\\u1EE7a b\\u1EA1n...\",\n            disabled: isLoading || !sessionId,\n            className: \"ai-message-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: isLoading || !sessionId || !inputMessage.trim(),\n            className: \"ai-send-button\",\n            children: isLoading ? '‚è≥' : 'üì§'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ai-quick-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => setInputMessage('T√¨m s·∫£n ph·∫©m'),\n            className: \"ai-quick-action-btn\",\n            children: \"\\uD83D\\uDD0D T\\xECm s\\u1EA3n ph\\u1EA9m\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => setInputMessage('Xem danh m·ª•c'),\n            className: \"ai-quick-action-btn\",\n            children: \"\\uD83D\\uDCC2 Danh m\\u1EE5c\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => setInputMessage('ƒê·ªÅ xu·∫•t s·∫£n ph·∫©m'),\n            className: \"ai-quick-action-btn\",\n            children: \"\\uD83D\\uDCA1 \\u0110\\u1EC1 xu\\u1EA5t\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ai-chatbot-footer\",\n        children: /*#__PURE__*/_jsxDEV(\"small\", {\n          children: \"AI \\u0111\\u01B0\\u1EE3c hu\\u1EA5n luy\\u1EC7n v\\u1EDBi d\\u1EEF li\\u1EC7u s\\u1EA3n ph\\u1EA9m th\\u1EF1c t\\u1EBF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 164,\n    columnNumber: 9\n  }, this);\n};\n_s(AIChatbot, \"+1ntpZQNisx6EUFgKkIlfXEfa9U=\");\n_c = AIChatbot;\nexport default AIChatbot;\nvar _c;\n$RefreshReg$(_c, \"AIChatbot\");","map":{"version":3,"names":["React","useState","useEffect","useRef","api","jsxDEV","_jsxDEV","AIChatbot","isOpen","onClose","userId","_s","sessionId","setSessionId","messages","setMessages","inputMessage","setInputMessage","isLoading","setIsLoading","isTyping","setIsTyping","messagesEndRef","inputRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","startNewChat","setTimeout","focus","response","post","data","success","initialMessage","error","console","status","request","message","role","content","timestamp","Date","sendMessage","e","preventDefault","trim","userMessage","prev","aiMessage","metadata","intent","confidence","entities","errorMessage","handleKeyPress","key","shiftKey","formatMessage","split","map","line","index","children","length","fileName","_jsxFileName","lineNumber","columnNumber","getMessageTime","toLocaleTimeString","hour","minute","getIntentIcon","intentIcons","className","onClick","stopPropagation","_message$metadata","replace","ref","onSubmit","type","value","onChange","target","onKeyPress","placeholder","disabled","_c","$RefreshReg$"],"sources":["D:/sua/manage-product/client/src/components/shared/AIChatbot.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport api from '../../configs/Apis';\r\nimport './AIChatbot.css';\r\n\r\nconst AIChatbot = ({ isOpen, onClose, userId = null }) => {\r\n    const [sessionId, setSessionId] = useState(null);\r\n    const [messages, setMessages] = useState([]);\r\n    const [inputMessage, setInputMessage] = useState('');\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [isTyping, setIsTyping] = useState(false);\r\n    const messagesEndRef = useRef(null);\r\n    const inputRef = useRef(null);\r\n\r\n    // Auto scroll to bottom\r\n    const scrollToBottom = () => {\r\n        messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n    };\r\n\r\n    useEffect(() => {\r\n        scrollToBottom();\r\n    }, [messages]);\r\n\r\n    // Kh·ªüi t·∫°o chat session khi m·ªü chatbot\r\n    useEffect(() => {\r\n        if (isOpen && !sessionId) {\r\n            startNewChat();\r\n        }\r\n    }, [isOpen]);\r\n\r\n    // Focus input khi m·ªü chatbot\r\n    useEffect(() => {\r\n        if (isOpen && inputRef.current) {\r\n            setTimeout(() => inputRef.current.focus(), 100);\r\n        }\r\n    }, [isOpen]);\r\n\r\n    const startNewChat = async () => {\r\n        try {\r\n            setIsLoading(true);\r\n            const response = await api.post(`/chatbot/start`, {\r\n                userId: userId\r\n            });\r\n\r\n            if (response.data.success) {\r\n                setSessionId(response.data.sessionId);\r\n                setMessages([response.data.initialMessage]);\r\n            }\r\n        } catch (error) {\r\n            // Detailed logging to help debug network / server errors\r\n            if (error.response) {\r\n                // Server responded with a status outside 2xx\r\n                console.error('Error starting chat - response:', {\r\n                    status: error.response.status,\r\n                    data: error.response.data,\r\n                });\r\n            } else if (error.request) {\r\n                // Request was made but no response\r\n                console.error('Error starting chat - no response received:', error.request);\r\n            } else {\r\n                // Something else happened\r\n                console.error('Error starting chat - setup error:', error.message);\r\n            }\r\n            setMessages([{\r\n                role: 'system',\r\n                content: 'Xin l·ªói, c√≥ l·ªói x·∫£y ra khi kh·ªüi t·∫°o chat. Vui l√≤ng th·ª≠ l·∫°i.',\r\n                timestamp: new Date()\r\n            }]);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    const sendMessage = async (e) => {\r\n        e.preventDefault();\r\n        \r\n        if (!inputMessage.trim() || !sessionId || isLoading) return;\r\n\r\n        const userMessage = {\r\n            role: 'user',\r\n            content: inputMessage.trim(),\r\n            timestamp: new Date()\r\n        };\r\n\r\n        // Th√™m tin nh·∫Øn c·ªßa user v√†o chat\r\n        setMessages(prev => [...prev, userMessage]);\r\n        setInputMessage('');\r\n        setIsTyping(true);\r\n\r\n        try {\r\n            const response = await api.post(`/chatbot/message`, {\r\n                sessionId: sessionId,\r\n                message: userMessage.content,\r\n                userId: userId\r\n            });\r\n\r\n            if (response.data.success) {\r\n                const aiMessage = {\r\n                    role: 'assistant',\r\n                    content: response.data.response,\r\n                    timestamp: new Date(),\r\n                    metadata: {\r\n                        intent: response.data.intent,\r\n                        confidence: response.data.confidence,\r\n                        entities: response.data.entities\r\n                    }\r\n                };\r\n\r\n                setMessages(prev => [...prev, aiMessage]);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error sending message:', error);\r\n            const errorMessage = {\r\n                role: 'assistant',\r\n                content: 'Xin l·ªói, c√≥ l·ªói x·∫£y ra. Vui l√≤ng th·ª≠ l·∫°i.',\r\n                timestamp: new Date()\r\n            };\r\n            setMessages(prev => [...prev, errorMessage]);\r\n        } finally {\r\n            setIsTyping(false);\r\n        }\r\n    };\r\n\r\n    const handleKeyPress = (e) => {\r\n        if (e.key === 'Enter' && !e.shiftKey) {\r\n            sendMessage(e);\r\n        }\r\n    };\r\n\r\n    const formatMessage = (message) => {\r\n        // X·ª≠ l√Ω xu·ªëng d√≤ng trong tin nh·∫Øn\r\n        return message.content.split('\\n').map((line, index) => (\r\n            <span key={index}>\r\n                {line}\r\n                {index < message.content.split('\\n').length - 1 && <br />}\r\n            </span>\r\n        ));\r\n    };\r\n\r\n    const getMessageTime = (timestamp) => {\r\n        return new Date(timestamp).toLocaleTimeString('vi-VN', {\r\n            hour: '2-digit',\r\n            minute: '2-digit'\r\n        });\r\n    };\r\n\r\n    const getIntentIcon = (intent) => {\r\n        const intentIcons = {\r\n            'product_search': 'üîç',\r\n            'category_info': 'üìÇ',\r\n            'price_inquiry': 'üí∞',\r\n            'stock_check': 'üì¶',\r\n            'product_comparison': '‚öñÔ∏è',\r\n            'recommendation': 'üí°',\r\n            'greeting': 'üëã',\r\n            'farewell': 'üëã',\r\n            'general_question': '‚ùì'\r\n        };\r\n        return intentIcons[intent] || 'üí¨';\r\n    };\r\n\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <div className=\"ai-chatbot-overlay\" onClick={onClose}>\r\n            <div className=\"ai-chatbot-container\" onClick={(e) => e.stopPropagation()}>\r\n                {/* Header */}\r\n                <div className=\"ai-chatbot-header\">\r\n                    <div className=\"ai-chatbot-title\">\r\n                        <span className=\"ai-icon\">ü§ñ</span>\r\n                        <span>AI Tr·ª£ l√Ω</span>\r\n                    </div>\r\n                    <button className=\"ai-chatbot-close\" onClick={onClose}>\r\n                        ‚úï\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Messages Container */}\r\n                <div className=\"ai-chatbot-messages\">\r\n                    {messages.map((message, index) => (\r\n                        <div\r\n                            key={index}\r\n                            className={`ai-message ${message.role === 'user' ? 'user' : 'assistant'}`}\r\n                        >\r\n                            <div className=\"ai-message-content\">\r\n                                {message.role === 'assistant' && message.metadata?.intent && (\r\n                                    <div className=\"ai-message-intent\">\r\n                                        {getIntentIcon(message.metadata.intent)}\r\n                                        <span className=\"intent-text\">\r\n                                            {message.metadata.intent.replace('_', ' ')}\r\n                                        </span>\r\n                                    </div>\r\n                                )}\r\n                                <div className=\"ai-message-text\">\r\n                                    {formatMessage(message)}\r\n                                </div>\r\n                                <div className=\"ai-message-time\">\r\n                                    {getMessageTime(message.timestamp)}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                    \r\n                    {isTyping && (\r\n                        <div className=\"ai-message assistant\">\r\n                            <div className=\"ai-message-content\">\r\n                                <div className=\"ai-typing\">\r\n                                    <span></span>\r\n                                    <span></span>\r\n                                    <span></span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                    \r\n                    <div ref={messagesEndRef} />\r\n                </div>\r\n\r\n                {/* Input Form */}\r\n                <form className=\"ai-chatbot-input-form\" onSubmit={sendMessage}>\r\n                    <div className=\"ai-input-container\">\r\n                        <input\r\n                            ref={inputRef}\r\n                            type=\"text\"\r\n                            value={inputMessage}\r\n                            onChange={(e) => setInputMessage(e.target.value)}\r\n                            onKeyPress={handleKeyPress}\r\n                            placeholder=\"Nh·∫≠p c√¢u h·ªèi c·ªßa b·∫°n...\"\r\n                            disabled={isLoading || !sessionId}\r\n                            className=\"ai-message-input\"\r\n                        />\r\n                        <button\r\n                            type=\"submit\"\r\n                            disabled={isLoading || !sessionId || !inputMessage.trim()}\r\n                            className=\"ai-send-button\"\r\n                        >\r\n                            {isLoading ? '‚è≥' : 'üì§'}\r\n                        </button>\r\n                    </div>\r\n                    \r\n                    {/* Quick Actions */}\r\n                    <div className=\"ai-quick-actions\">\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={() => setInputMessage('T√¨m s·∫£n ph·∫©m')}\r\n                            className=\"ai-quick-action-btn\"\r\n                        >\r\n                            üîç T√¨m s·∫£n ph·∫©m\r\n                        </button>\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={() => setInputMessage('Xem danh m·ª•c')}\r\n                            className=\"ai-quick-action-btn\"\r\n                        >\r\n                            üìÇ Danh m·ª•c\r\n                        </button>\r\n                        <button\r\n                            type=\"button\"\r\n                            onClick={() => setInputMessage('ƒê·ªÅ xu·∫•t s·∫£n ph·∫©m')}\r\n                            className=\"ai-quick-action-btn\"\r\n                        >\r\n                            üí° ƒê·ªÅ xu·∫•t\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n\r\n                {/* Footer */}\r\n                <div className=\"ai-chatbot-footer\">\r\n                    <small>AI ƒë∆∞·ª£c hu·∫•n luy·ªán v·ªõi d·ªØ li·ªáu s·∫£n ph·∫©m th·ª±c t·∫ø</small>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AIChatbot;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}